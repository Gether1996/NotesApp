{% extends 'base.html' %}


{% block content %}
{% load static %}

<head>
<meta name='viewport' content='width=device-width, initial-scale=1'>
<link rel="stylesheet" href="{% static 'styling.css' %}">
<link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css">

</head>
<body>

    <h1>All my notes</h1>
<div style="display: inline-block;">
  <button class="btn-add"><a href="http://127.0.0.1:8000/add_category/" style="text-decoration: none; color: white;">Add category</a></button>
</div>
<div style="display: inline-block;">
  <button class="btn-add" style="font-size: 40px;"><a href="http://127.0.0.1:8000/add_note/" style="color: black;"><i class='fa fa-pencil-square-o'></i></a></button>
</div>
{% for note in notes %}
    <div class="note">
        <div class="note-content">
            <h2>{{ note.category.name }}</h2>
            <h1>{{ note.name }}</h1>
            <p>{{ note.description }}</p>
            {% if note.scheduled_time %}
                {% if note.finished == False %}
                <p>Deadline: {{ note.scheduled_time }}</p>
                {% endif %}
            {% endif %}
                <div class="scheduled-time-indicator {% if note.finished %}finished{% endif %}"></div>

        </div>
        <div class="note-actions">
            <a href="http://127.0.0.1:8000/notes/{{ note.id }}/edit/"><button class="edit-note"><i class="fa fa-pencil"></i></button></a>
                <form style="display: inline-block;" method="post" action="{% url 'delete_note' note.id %}" onsubmit="return confirm('Are you sure you want to delete this note?')">
                  {% csrf_token %}
                  <button class="delete-note"><i class="fa fa-times"></i></button>
                </form>
                {% if note.finished == False %}
                <form style="display: inline-block;" method="post" action="{% url 'finish_note' note.id %}" onsubmit="return confirm('Is it really finished?')">
                  {% csrf_token %}
                  <button class="finish-note"><i class='fa fa-check-square'></i></button>
                </form>
                {% endif %}
        </div>
    </div>
{% endfor %}


</body>
{% endblock %}


<form method="post" action="{% url 'delete_note' note.id %}" onsubmit="return confirm('Are you sure you want to delete this note?')">
  {% csrf_token %}
  <button class="finish-note"><i class='fa fa-check-square'></i></button>
</form>